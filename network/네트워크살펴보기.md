# 네트워크 살펴보기

## 네트워크 구조
네트워크란 여러 장치가 서로 연결되어 통신할 수 있는 통신망을 의미한다.

### **구성 요소**
1. **노드**: 통신하는 장치(컴퓨터, 스마트폰 등)
2. **간선**: 정보를 주고받는 통신 매체(유선 또는 무선)
3. **메시지**: 노드 간에 주고받는 정보

## 네트워크 메시지 교환 방식

### 1. 회선 교환 방식
- 노드끼리 물리적으로 연결된 상태에서만 메시지 교환이 가능하다.
- **장점**: 두 호스트 사이가 연결되면 정보 교환이 안정적이고 일정한 속도로 진행된다.
- **단점**: 연결을 유지하는 동안 다른 장치가 해당 경로를 사용할 수 없어 비효율적이다. (연결이 끊길 때까지 자원을 점유)

### 2. 패킷 교환 방식
- 현대 인터넷에서 주로 사용되는 통신 방식.
- **장점**: 메시지를 작은 단위인 '패킷'으로 나누어 전송하며, 고정된 경로가 아닌 다양한 경로를 이용해 통신하므로 네트워크 자원의 효율성이 높다.
- **단점**: 패킷이 다른 경로로 전송되므로, 순서가 뒤바뀌거나 손실될 수 있다. 이를 해결하기 위한 재조립 및 오류 검출 과정이 필요하다.

**패킷**이란 네트워크 내에서 주고받는 메시지의 최소 단위로, 데이터와 제어 정보를 담고 있다.
- **페이로드**: 전송하려는 실제 데이터
- **헤더**: 송신자, 수신자, 패킷 번호 등 전송 관련 정보를 포함하여 패킷의 경로를 안내하는 부분
- **트레일러**: 패킷의 오류 검출을 위한 정보가 포함된 부분

## 프로토콜
호스트들 간의 정보를 교환하기 위해 정형화된 통신 규약 및 규칙.  
→ 만약 규칙 없이 아무 언어로 전송한다면, 다른 호스트가 그 언어를 이해하지 못해 정보를 처리할 수 없기 때문에 프로토콜이 필요하다.

## 네트워크 참조 모델
네트워크를 통해 데이터를 주고받기 위해 정형화된 여러 단계를 거친다. 이 과정을 계층으로 표현한 것이 네트워크 참조 모델이다.  
**장점**:
1. 네트워크 구성과 설계가 용이하다.
2. 네트워크 문제 진단과 해결이 간단해진다.

### OSI 참조 모델
7계층으로 이루어진 네트워크 참조 모델이다.
1. **물리 계층**: 비트 단위로 통신하며 0과 1의 비트로 데이터를 주고받는다.
2. **데이터 링크 계층**: 네트워크 내에서 호스트 간 통신을 담당하며, '프레임'이라는 단위를 사용한다.
3. **네트워크 계층**: 네트워크 외부와 통신하며, '패킷'이라는 단위를 사용한다.
4. **전송 계층**: '데이터그램' 및 '세그먼트' 단위를 사용하며, 네트워크 계층보다 안정적인 데이터 전송을 제공한다.
5. **세션 계층**: 세션을 관리하고, 연결을 유지 및 끊는 역할을 담당한다.
6. **표현 계층**: 사람이 이해할 수 있는 문자를 컴퓨터가 이해할 수 있는 코드로 변환하며, 암호화 및 복호화 작업이 이루어진다.
7. **응용 계층**: 사용자가 사용하는 응용 프로그램과 밀접하게 연결되며, 다양한 네트워크 서비스를 제공한다.

### TCP/IP 모델
OSI 참조 모델이 이론적이라면, TCP/IP 모델은 실용적 구현에 초점을 맞춘 모델이다.
1. **네트워크 액세스 계층**: 물리적 연결 및 데이터 링크 제어를 담당한다.
2. **인터넷 계층**: 패킷 전송을 위해 IP 주소를 기반으로 라우팅을 수행한다.
3. **전송 계층**: 데이터의 신뢰성을 보장하며, 송수신 간의 연결을 관리한다.
4. **응용 계층**: 사용자와 직접적으로 상호작용하는 애플리케이션 서비스 제공을 담당한다.

## 캡슐화 및 역캡슐화
패킷은 송신 과정에서 **캡슐화**가 이루어지고, 수신 과정에서 **역캡슐화**가 이루어진다.

### 캡슐화
네트워크 참조 모델을 통해 정보가 교환되며, 상위 계층에서 하위 계층으로 이동하면서 송신된다.  
각 계층에서 전송하려는 데이터 단위를 **PDU**(Protocol Data Unit)라 한다. 상위 계층에서 하위 계층으로 데이터를 넘길 때, 각 계층에서 헤더를 추가하여 하위 계층에 전달한다. 이 과정이 캡슐화다.

### 역캡슐화
캡슐화의 반대 과정으로, 하위 계층에서 상위 계층으로 데이터가 이동한다. 각 계층에서 헤더를 제거하고, 페이로드를 해당 계층의 정보로 해석한 후 상위 계층으로 전송한다.
